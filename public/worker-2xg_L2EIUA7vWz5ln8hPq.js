(()=>{"use strict";var e=[,(e,t,r)=>{r.r(t),r.d(t,{webPushMessageTypes:()=>n});const n={newMessage:"new-message"}},(e,t,r)=>{r.r(t),r.d(t,{urls:()=>c});var n=r(3),o=r(4),s=r(9),i=r(11);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const{NEXT_PUBLIC_API_URL:l}=s.myEnvs,c={pages:{index:"/",getSignIn:()=>(0,i.getAuthUrl)("login"),indexAndRedirectTo:e=>`/?redirectTo=${e}`,signUp:()=>(0,i.getAuthUrl)("signup"),syncroItem:(e,t)=>`/item?${o.default.stringify(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({syncroItemId:e},t))}`,userProfile:e=>`/user/${e}`,search:e=>{if(!e)return"/search";return`/search?${o.default.stringify(e)}`},userItems:(e,t)=>`/user/${e}/items?type=${t}`,savedItems:e=>"/saved?"+o.default.stringify({type:e}),explore:(e="browse",t)=>("browse"!==e||t||(t={type:"movie",period:"month"}),`/explore/${e}?${o.default.stringify(t||{})}`),notifications:"/notifications",editProfile:"/edit-profile",messagesIndex:"/messages",messageRoom:e=>`/messages/${e}`,settings:(e="account")=>`/settings/${e}`,admin:()=>"/admin/dashboard/users",allPlanned:()=>"/all-planned",dating:{editDatingProfile:()=>"/dating/edit-profile",people:()=>"/dating/people",likedYou:()=>"/dating/liked-you",chats:()=>"/dating/chats"},sharedList:{index:()=>"/shared-list",id:e=>`/shared-list/${e}`}},api:{register:e=>l+"/auth/register?pushToken="+e,login:e=>l+`/auth/login?pushToken=${e}`,tempUser:l+"/auth/temp-user",authGoogleLogin:l+"/auth/google/login",keepTempUser:l+"/auth/keep-temp-user",me:l+"/auth/me",search:e=>l+"/search?"+o.default.stringify(e),searchAll:e=>l+"/search-all?q="+e,searchMore:e=>l+"/search-more?"+o.default.stringify(e),searchAutocomplete:e=>l+"/search-autocomplete?"+o.default.stringify(e),searchMyEntries:e=>l+"/search-my-entries?q="+e,itemNews:e=>`/item-news?syncroItemId=${e}`,syncroItem:l+"/syncro-item",syncroItemDetails:e=>l+`/syncro-item?id=${e}`,refreshItemInfo:e=>l+`/syncro-item/rating?id=${e}`,syncroItemImage:e=>l+`/syncro-item/${e}/image`,ratingId:e=>l+`/ratings?id=${e}`,myRatings:l+"/me/ratings",myRatingId:e=>l+"/me/ratings/"+e,moveToQueuePosition:l+"/move-to-queue-position",removeQueuePosition:l+"/remove-queue-position",ratingsByItem:(e,t)=>l+`/ratings-by-following-users?${o.default.stringify({itemId:e,type:t})}`,uploadFavoriteScene:l+"/upload-favorite-scene",myInterests:l+"/me/interests",myInterestsV2:l+"/my-interests",toggleSaveItem:e=>l+`/toggle-save/item?id=${e}`,plannedItems:e=>l+`/planned-items?userId=${e}`,plannedItemsV2:(e,t="PLANNED")=>l+`/v2/planned-items?userId=${e}&ratingStatus=${t}`,updateSavedPosition:l+"/update-saved-position",updateSavedPositionV2:l+"/v2/update-saved-position",userRatings:e=>l+`/user/${e}/ratings`,checkMalUser:e=>l+`/check-mal/${e}`,userInterests:e=>l+`/user/${e}/interests`,apiImages:e=>l+`/public/images/${e}`,timelineItems:e=>{const{page:t,pageSize:r,userId:n}=e;return l+`/feed/timeline-items?page=${t}&pageSize=${r}&userId=${n||""}`},timelineHasNews:(e,t)=>`/timeline-has-news?${o.default.stringify({userId:e,lastRatingCreatedAt:t})}`,userInfo:e=>l+`/user/${e}`,userItems:(e,t)=>l+`/user/${e}/items?itemType=${t}`,genresCount:(e,t)=>l+`/rated-genres-count?userId=${e}&itemType=${t}`,mySimilarUsers:e=>l+`/me/similar-users?${o.default.stringify({itemType:e})}`,userSimilarity:e=>l+`/user/${e}/similarity`,myFollowingUsers:l+"/me/following-users",userFollowers:e=>l+`/user/${e}/followers`,userFollowingUsers:e=>l+`/user/${e}/following-users`,toggleFollow:e=>l+`/user/${e}/toggle-follow`,profilePicture:l+"/profiles/picture",myProfile:l+"/me/profile",customPositionsByItemType:e=>l+`/custom-positions?itemType=${e}`,customPosition:l+"/custom-positions",mostFollowedUsers:l+"/follow/most-followed-users",newUsers:l+"/new-users",notifications:l+"/notifications",hideNotificationDots:l+"/notifications/hide-dots",usersToRecommendItem:e=>l+`/v2/users-to-recommend?itemId=${e}`,usersAlsoLiked:e=>l+`/users-also-liked?itemId=${e}`,recommendItem:(e,t)=>l+`/recommend-item?itemId=${e}&userId=${t}`,recommendationsFromMe:l+"/item-recommendations-from-me",userItemsCount:e=>l+`/user/${e}/items-count`,userItemsCountDetails:e=>l+`/user/${e}/items-count-details`,itemsToRecommendToUser:(e,t)=>l+`/items-to-recommend-to-user?userId=${e}&itemType=${t}`,sendPasswordResetEmail:l+"/auth/password-reset-email",confirmPasswordResetCode:l+"/auth/confirm-password-reset-code",endPasswordReset:l+"/auth/end-password-reset",logoutPushToken:e=>l+`/me/push-token/${e}`,didNotFind:l+"/did-not-find",youtubeVideos:e=>l+`/youtube-videos?itemId=${e}`,mangaPanels:e=>l+`/manga-panels?itemId=${e}`,messageRoomByUserId:e=>l+`/message-room?userId=${e}`,messageRoomByRoomId:e=>l+`/message-room?roomId=${e}`,messagesByRoomId:e=>l+`/messages?roomId=${e}`,sendMessage:l+"/message",replyToRating:l+"/reply-to-rating",unreadMessagesRooms:l+"/unread-messages-rooms",messageRooms:l+"/last-rooms-with-messages",readAllMessages:e=>l+`/read-all-messages?roomId=${e}`,feedback:l+"/feedback",webPushTest:l+"/web-push",webPushSubscribe:l+"/web-push/subscribe",settings:l+"/settings",reviewsByItemId:e=>l+`/reviews?itemId=${e}`,toggleFavoriteItem:e=>l+`/toggle-favorite-item?itemId=${e}`,favoriteItems:e=>l+`/favorite-items?userId=${e}`,uploadMalAnime:"/upload-mal-anime",confirmUploadMalAnime:"/upload-mal-anime/confirm",planUpdates:"/plan-updates",mostRatedItems:e=>"/most-rated-items?"+o.default.stringify(e),itemRecommendationsForMe:e=>"/item-recommendations-for-me?"+o.default.stringify({itemType:e}),userRecommendationsForMe:"/user-recommendations-for-me",ignoreItemRecommendation:"/ignore-recommendation",ignoreFollowRecommendation:"/ignore-follow-recommendation",importAnilistValidate:e=>`/import-anilist/validate?${o.default.stringify(e)}`,importAnilistConfirm:"/import-anilist/confirm",amazonLinks:e=>`/syncro-item/${e}/amazon-links`,dating:{myDatingProfile:l+"/me/dating-profile"},dashboard:{addUserDailyLog:l+"/user-daily-log",getDailyLoggedUsers:(e=30)=>`/daily-logged-users?lastNDays=${e}`},sharedList:{mySharedLists:()=>"/me/shared-lists",createSharedList:()=>"/create-shared-list",sharedListsIncludingUsers:e=>`/shared-lists-including-users?${o.default.stringify({userIds:e})}`,sharedListItems:e=>`/shared-list-items?${o.default.stringify({sharedListId:e})}`,sharedListItemMutation:()=>"/shared-list-item-interest",sharedListItemId:e=>`/shared-list-item-interest/${e}`},entryInterest:e=>`/entry/${e}/interest`},others:{imdbItem:e=>`https://www.imdb.com${e}`,twitterIntent:(e,t)=>`https://twitter.com/intent/tweet?${o.default.stringify({url:e,text:t})}`}}},(e,t,r)=>{function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{default:()=>n})},(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n=r(5)},(e,t,r)=>{r.r(t),r.d(t,{exclude:()=>P,extract:()=>w,parse:()=>b,parseUrl:()=>$,pick:()=>O,stringify:()=>I,stringifyUrl:()=>v});var n=r(3),o=r(6),s=r(7),i=r(8);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const c=e=>null==e,u=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),d=Symbol("encodeFragmentIdentifier");function m(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function f(e,t){return t.encode?t.strict?u(e):encodeURIComponent(e):e}function p(e,t){return t.decode?(0,o.default)(e):e}function g(e){return Array.isArray(e)?e.sort():"object"==typeof e?g(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function y(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function w(e){const t=(e=y(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function b(e,t){m((t=l({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),t?void 0!==n[e]?n[e]=[...n[e],r]:n[e]=[r]:n[e]=r};case"colon-list-separator":return(e,r,n)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[...n[e],r]:n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const o="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!o&&p(r,e).includes(e.arrayFormatSeparator);r=s?p(r,e):r;const i=o||s?r.split(e.arrayFormatSeparator).map((t=>p(t,e))):null===r?r:p(r,e);n[t]=i};case"bracket-separator":return(t,r,n)=>{const o=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!o)return void(n[t]=r?p(r,e):r);const s=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>p(t,e)));void 0!==n[t]?n[t]=[...n[t],...s]:n[t]=s};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[...[r[e]].flat(),t]:r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){if(""===o)continue;const e=t.decode?o.replace(/\+/g," "):o;let[i,a]=(0,s.default)(e,"=");void 0===i&&(i=e),a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:p(a,t),r(p(i,t),a,n)}for(const[e,r]of Object.entries(n))if("object"==typeof r&&null!==r)for(const[e,n]of Object.entries(r))r[e]=h(n,t);else n[e]=h(r,t);return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=g(r):e[t]=r,e}),Object.create(null))}function I(e,t){if(!e)return"";m((t=l({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&c(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[f(t,e),"[",o,"]"].join("")]:[...r,[f(t,e),"[",f(o,e),"]=",f(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[f(t,e),"[]"].join("")]:[...r,[f(t,e),"[]=",f(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[f(t,e),":list="].join("")]:[...r,[f(t,e),":list=",f(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:(o=null===o?"":o,0===n.length?[[f(r,e),t,f(o,e)].join("")]:[[n,f(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,f(t,e)]:[...r,[f(t,e),"=",f(n,e)].join("")]}}(t),o={};for(const[t,n]of Object.entries(e))r(t)||(o[t]=n);const s=Object.keys(o);return!1!==t.sort&&s.sort(t.sort),s.map((r=>{const o=e[r];return void 0===o?"":null===o?f(r,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?f(r,t)+"[]":o.reduce(n(r),[]).join("&"):f(r,t)+"="+f(o,t)})).filter((e=>e.length>0)).join("&")}function $(e,t){var r,n,o;t=l({decode:!0},t);let[i,a]=(0,s.default)(e,"#");return void 0===i&&(i=e),l({url:null!==(r=null===(n=i)||void 0===n||null===(o=n.split("?"))||void 0===o?void 0:o[0])&&void 0!==r?r:"",query:b(w(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:p(a,t)}:{})}function v(e,t){t=l({encode:!0,strict:!0,[d]:!0},t);const r=y(e.url).split("?")[0]||"";let n=I(l(l({},b(w(e.url),{sort:!1})),e.query),t);n&&(n=`?${n}`);let o=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);if(e.fragmentIdentifier){const n=new URL(r);n.hash=e.fragmentIdentifier,o=t[d]?n.hash:`#${e.fragmentIdentifier}`}return`${r}${n}${o}`}function O(e,t,r){r=l({parseFragmentIdentifier:!0,[d]:!1},r);const{url:n,query:o,fragmentIdentifier:s}=$(e,r);return v({url:n,query:(0,i.includeKeys)(o,t),fragmentIdentifier:s},r)}function P(e,t,r){return O(e,Array.isArray(t)?e=>!t.includes(e):(e,r)=>!t(e,r),r)}},(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});const n="%[a-f0-9]{2}",o=new RegExp("("+n+")|([^%]+?)","gi"),s=new RegExp("("+n+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;const r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function a(e){try{return decodeURIComponent(e)}catch(t){let r=e.match(o)||[];for(let t=1;t<r.length;t++)r=(e=i(r,t).join("")).match(o)||[];return e}}function l(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch(t){return function(e){const t={"%FE%FF":"��","%FF%FE":"��"};let r=s.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){const n=a(r[0]);n!==r[0]&&(t[r[0]]=n)}r=s.exec(e)}t["%C2"]="�";const n=Object.keys(t);for(const r of n)e=e.replace(new RegExp(r,"g"),t[r]);return e}(e)}}},(e,t,r)=>{function n(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===e||""===t)return[];const r=e.indexOf(t);return-1===r?[]:[e.slice(0,r),e.slice(r+t.length)]}r.r(t),r.d(t,{default:()=>n})},(e,t,r)=>{function n(e,t){const r={};if(Array.isArray(t))for(const n of t){const t=Object.getOwnPropertyDescriptor(e,n);null!=t&&t.enumerable&&Object.defineProperty(r,n,t)}else for(const n of Reflect.ownKeys(e)){const o=Object.getOwnPropertyDescriptor(e,n);if(o.enumerable){t(n,e[n],e)&&Object.defineProperty(r,n,o)}}return r}function o(e,t){if(Array.isArray(t)){const r=new Set(t);return n(e,(e=>!r.has(e)))}return n(e,((e,r,n)=>!t(e,r,n)))}r.r(t),r.d(t,{excludeKeys:()=>o,includeKeys:()=>n})},(e,t,r)=>{r.r(t),r.d(t,{myEnvs:()=>n});const n={NEXT_PUBLIC_API_URL:(0,r(10).toStringOrThrowError)("http://localhost:3111"),isProduction:!0,enableImageOptimization:"true"===process.env.NEXT_PUBLIC_ENABLE_IMAGE_OPTIMIZATION}},(e,t,r)=>{r.r(t),r.d(t,{toStringOrThrowError:()=>n});const n=e=>{if(void 0===e)throw new Error("Value is undefined");return e}},(e,t,r)=>{r.r(t),r.d(t,{getAuthUrl:()=>n});const n=e=>"login"===e?o():s(),o=()=>{if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("redirectTo");if(e)return`/auth?redirectTo=${e}`;const t=window.location.pathname;return"/auth"===t?"/auth":"/auth?redirectTo="+t}return"/auth"},s=()=>{if("undefined"!=typeof window){const e=new URLSearchParams(window.location.search).get("redirectTo");if(e)return`/auth?initialPage=signUp&redirectTo=${e}`;const t=window.location.pathname;return"/auth"===t?"/auth?initialPage=signUp":"/auth?initialPage=signUp&redirectTo="+t}return"/auth?initialPage=signUp"}},(e,t,r)=>{function n(){console.log("Hello from util."),console.log("es6+ syntax test:");let e={message:"working"};console.log(null==e?void 0:e.message)}r.r(t),r.d(t,{util:()=>n})}],t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.r(n);var e=r(1),t=r(2);(0,r(12).util)(),self.addEventListener("message",(e=>{console.log(null==e?void 0:e.data)})),self.addEventListener("push",(async e=>{const t=JSON.parse((null==e?void 0:e.data.text())||"{}");await self.clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(e){if(e.length>0)for(let t=0;t<e.length;t++)if(e[t].focused)return!0;return!1}))||null==e||e.waitUntil(self.registration.showNotification(t.title,{body:t.body,icon:"/icon-192x192.png",badge:"/icon-192x192.png",tag:t.type,renotify:!0}).then((()=>{})))})),self.addEventListener("notificationclick",(r=>{var n,o;null==r||r.notification.close();const s=JSON.parse((null==r||null===(n=r.notification)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.text())||"{}");if((null==s?void 0:s.type)!==e.webPushMessageTypes.newMessage)null==r||r.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(e){if(e.length>0){let t=e[0];for(let r=0;r<e.length;r++)e[r].focused&&(t=e[r]);return t.focus()}return self.clients.openWindow("/")})));else{const e=null==s?void 0:s.data;if(!e)return;const n=e.roomId;null==r||r.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then((function(e){if(e.length>0){let r=e[0];for(let o=0;o<e.length;o++)e[o].focused&&e[o].url===t.urls.pages.messageRoom(n)&&(r=e[o]);return r.focus()}return self.clients.openWindow(t.urls.pages.messageRoom(n))})))}})),importScripts("https://cdn.pushalert.co/sw-72747.js")})()})();